template_name: Lab

os: bionic

os_raid1:
    disks:
        - sda
        - sdb

os_partitions:
    /var:
        size: 20G
        filesystem: ext4
    /tmp:
        size: 20G
        filesystem: btrfs
    /boot:
        size: 1G
        filesystem: ext4
    /:
        size: 59G
        filesystem: xfs
    /home:
        size: 19G
        filesystem: ext4

net_bonding:
    slaves:
        - enp4s0f0
        - enp4s0f1
    name: bond0
    vlans:
        mgmt:
            vlan: mgmt
            subnet: rack2:mgmt
            ip: 192.0.2.50
            default_gateway: true
            mtu: 9050
        vxlan:
            vlan: vxlan

packages:
    - salt-minion
sources:
    saltstack:
        source: deb http://repo.saltstack.com/apt/ubuntu/16.04/amd64/latest $RELEASE main
        keyid: 754A1A7AE731F165D5E6D4BD0E08A149DE57BFBE

unused_disks:
    jbod_disks:
        - device: /dev/sdc
          fs: ext4
          mountpoint: /data/01
        - device: /dev/sdd
          fs: ext4
          mountpoint: /data/02
    raid_array:
        disks:
            - sde
            - sdf
            - sdg
            - sdh
            - sdi
            - sdj
        fs: ext4
        mountpoint: /data/raid_data
    disk_array:
         - cloud-init-per
         - once
         - softraid
         - mdadm
         - --create
         - /dev/md1
         - --level=6
         - --raid-devices=4
    step2:
        - cloud-init-per
        - once
        - b_volume-group
        - vgcreate
        - lxc
        - /dev/md1
